'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createEventSystem = createEventSystem;

var _logging = require('../event-handlers/logging');

var _logging2 = _interopRequireDefault(_logging);

var _intents = require('../event-handlers/intents');

var _intents2 = _interopRequireDefault(_intents);

var _index = require('./index');

var _log = require('../../utils/log');

var logging = _interopRequireWildcard(_log);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function createEventSystem({ loggingHandlers = [], intentHandlers = [] }) {
  const loggingSystem = new _logging2.default(logging);
  for (const loggingHandler of loggingHandlers) {
    loggingSystem.addHandler(loggingHandler);
  }

  const intentSystem = new _intents2.default();
  for (const intentHandler of intentHandlers) {
    intentSystem.addHandler(intentHandler);
  }

  const eventSystem = new _index.EventSystem();
  eventSystem.attachSubsystem(loggingSystem);
  eventSystem.attachSubsystem(intentSystem);

  return eventSystem;
}