'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getEntityName;

var _lodash = require('lodash');

function getEntityName(entity) {
  var name = (0, _lodash.get)(entity, 'name');
  if (name) {
    return attachId(name, entity);
  }

  var titleField = (0, _lodash.get)(entity, 'fields.title');
  if (titleField) {
    var locales = Object.keys(titleField);
    return attachId(titleField[locales[0]], entity);
  }

  var nameField = (0, _lodash.get)(entity, 'fields.name');
  if (nameField) {
    var _locales = Object.keys(nameField);
    return attachId(nameField[_locales[0]], entity);
  }

  var id = (0, _lodash.get)(entity, 'sys.id');
  if (id) {
    return id;
  }

  return 'unknown';
}

function attachId(val, entity) {
  var id = (0, _lodash.get)(entity, 'sys.id');
  if (id) {
    return `${val} (${id})`;
  }
  return val;
}
module.exports = exports['default'];